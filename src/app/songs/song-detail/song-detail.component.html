<section class="hero" *ngIf="$song | async as song; else progressBar">
  <div class="hero-body">
    <p>{{song.page}}</p>
    <a *ngIf="auth.user | async" class="has-text-primary" (click)="updateFavorites(songId)">
      <fa-icon *ngIf="userData" [icon]="isSongFavorite(songId)? ['fas', 'star']: ['far', 'star']"></fa-icon>
    </a>
    <div class="columns">
      <div class="column" *ngIf="song.associationName">
        <app-editable-title [title]="song.associationName"
                            [editable]="true"
                            (saved)="saveAssociationName($event)">
        </app-editable-title>
        <app-editable-text [text]="song.associationInfo"
                           [editable]="true">
        </app-editable-text>
      </div>
      <div class="column" *ngIf="song.battleCryName">
        <div>
          <app-editable-title [title]="song.battleCryName"
                              [subtitle]="song.battleCryInfo"
                              [editable]="true"
                              (saved)="saveBattleCryNameAndInfo($event)">
          </app-editable-title>
          <app-editable-text [text]="song.battleCry"
                             [editable]="true">
          </app-editable-text>
        </div>
      </div>
      <div class="column" *ngIf="song.title">
        <div>
          <app-editable-title [title]="song.title"
                              [subtitle]="song.bgInfo"
                              [editable]="true"
                              (saved)="saveTitleAndBgInfo($event)">
          </app-editable-title>
          <app-editable-text [text]="song.lyrics"
                             [editable]="true">
          </app-editable-text>
        </div>
      </div>
    </div>
  </div>
</section>
<ng-template #progressBar>
  <progress class="progress is-small is-primary" max="100"></progress>
</ng-template>
